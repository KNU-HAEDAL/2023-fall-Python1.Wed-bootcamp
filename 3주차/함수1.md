## 함수(function)

수학에서 정의되는 함수 ⇒ 두 변수 x, y에 대해 x가 정해지면 그에 따라 y의 값이 오직 하나씩 정의되는 관

코딩을 하다 보면 똑같은 내용을 반복해서 사용할 때가 있다.

⇒ 이때 , ‘반복적으로 사용되는 부분’을 한 뭉치로 묶어 ‘어떤 입력값을 주었을 때 그에 해당하는 결과값을 반환’해주는 함수로 작성!

⇒ 코딩에서의 함수란 **프로그램 내에서 특정한 작업을 하는 코드의 집합**을 말하며, 프로그램을 구성하는 기본적인 요소

⇒ 함수를 적절히 사용하면 프로그램의 흐름을 파악하기 쉽고, 오류가 어디서 발생하는지도 파악하기 쉽다!

반복적으로 사용되는 코드를 **블록(Block)**으로 묶어서 만들며, 기능에 따라 미리 만들어진 블록(함수)을 필요할 때마다 불러오는 방식으로 큰 프로그램을 보다 쉽게 작성할 수 있다👍

함수는 개발자가 직접 만들 수도 있고, 파이썬과 같은 프로그래밍 언어에서 기본적으로 제공되는 것도 있다.

이때 미리 만들어져 제공되는 함수를 ‘**내장함수(built-in function)**’라고 하며,

사용자(개발자)가 직접 만든 함수를 ‘**사용자 정의 함수(user defined function)**’라고 한다.

함수를 사용하기 위해 불러오는 행위를 함수의 ‘**호출(function call)**’이라고 한다.

파이썬의 내장 함수를 몇 가지 살펴보자! 1~2주차를 거치며 몇 가지는 이미 사용해본 적이 있을 것이다

-   **abs(x)** ⇒ 숫자 x를 입력으로 받았을 때 절댓값을 반환해주는 함수
-   **id(x)** ⇒ 객체 x를 입력으로 받았을 때 객체의 고유 주소값(참조)을 반환해주는 함수
-   **input([prompt])** ⇒ 사용자 입력을 받는 함수이며, 입력 인수로 문자열을 전달하면 그 문자열은 프롬프트가 된다. ( []는 괄호 안의 내용을 **생략할 수 있다는 의미**이다!)
-   **int(x)** ⇒ 문자열 형태의 정수나 실수 x를 입력으로 받았을 때 정수로 반환해주는 함수
-   **int(x, a)** ⇒ a진수로 표현된 문자열 형태의 숫자 x를 10진수 정수로 반환해주는 함수
-   **len(s)** ⇒ 입력값 s의 길이를 반환해주는 함수
-   **pow(x, y)** ⇒ x의 y제곱을 반환해주는 함수
-   **range([start,]stop[,step])** ⇒ 입력 받은 숫자에 해당하는 범위 값을 반복 가능한 객체로 만들어 반환
-   **type(x)** ⇒ 입력값의 자료형을 반환해주는 함수

```python
print(abs(-3))
num = 3
print(id(num))
print(int('1011', 2))
print(len('Hello World'))
print(pow(2, 3))
print(type(3.14))

#결과
3
2355991675184
11
11
8
<class 'float'>
```

파이썬은 다양한 내장함수를 제공하므로, 적절하게 사용한다면 프로그램 구현에 큰 도움이 된다!

### 사용자 정의 함수(user defined function)

파이썬에서의 사용자 정의 함수에 대해 알아보도록 하자!

사용자 정의 함수는 기본적으로 다음과 같은 구조를 가진다.

`def function_name (x1, x2, …) :` → 함수의 헤드에 해당

`수행할 문장1`

`수행할 문장2`

`…`

`return n1[, n2, …]` → 헤드 이후부터 여기까지 함수의 몸체에 해당

def는 함수를 만들 때 사용하는 키워드(예약어)이며, def문 다음 함수의 이름, 괄호, 매개변수, 콜론이 차례대로 온다. 이때 매개변수는 함수에 입력으로 전달되는 값을 받는 변수이며 생략 가능하다.

이렇게 함수 헤드를 작성해준 후에, 제어문에서와 마찬가지로 실행할 문장들을 ‘들여쓰기’해서 함수의 몸체를 작성해준다.

마지막으로 함수는 일을 수행한 후 그 결과를 return문으로 반환할 수 있다. (만약 반환할 값이 없으면 return문은 생략 가능하며, 두 개 이상의 값은 tuple형으로 반환된다)

다음 예시를 통해 함수를 정의하고 호출하는 법에 대해 알아보자.

```python
def print_star() : #이 함수의 이름은 (?)이고, 입력으로 (0)개의 값을 받는다
	print('**********') #이 함수는 (프린트 문장)을 수행하고, 이 함수의 반환값은 (0)이다

print_star() #함수의 호출

#결과
**********

def numsadder(a, b) : #이 함수의 이름은 (?)이고, 입력으로 (?)개의 값을 받는다
	return a + b #이 함수는 (?)을 수행하고, 이 함수의 반환값은 (?)이다

print(numsadder(3, 5)) #함수의 호출

a = 7
b = 6
print(numsadder(a, b)) #함수의 호출

#결과
8
13
```

### 인수(argument)와 매개변수(parameter)

함수가 어떤 작업을 할 때, 값을 넘겨받은 상태로 작업을 할 수 있다.

함수 외부에서 함수로 넘겨주는 입력값을 **인수(=인자, argument)**라고 한다.

함수 내에서는 이 인수를 변수에다 받아서 사용하는데, 이때 함수 내부에서 사용되는 변수를 **매개변수(parameter)**라고 한다.

위 예시에서 등장한 numsadder 함수를 다시 살펴보자.

```python
def numsadder(a, b) :
	return a + b

numsadder(3, 5)
```

def numsadder(a, b)에서 괄호 안에 있는 변수 a, b가 ‘매개변수’,

numsadder(3, 5)에서 괄호 안에 있는 값 3, 5가 ‘인수’가 되는 것이다!

위 함수에서는 매개변수가 2개이지만 상황에 따라 더 많은 수가 될 수도 있다.

매개변수를 활용한 함수의 예시를 살펴보자.

```python
def print_star(n) : #별 출력을 매개변수 n번만큼 반복하는 함수
	for _ in range(n) :
		print('**********')

print_star(5) #5번의 출력이 필요해 5라는 인수 값을 주었다

#결과
**********
**********
**********
**********
**********

print_star() #인수를 넘겨주지 않는 경우에는 어떻게 될까?

#결과
TypeError: print_star() **missing 1 required positional argument: 'n'**
#매개변수 n에 인수가 전달되지 않아 오류가 발생함을 확인할 수 있다!

```

이처럼 매개변수가 존재하는 함수를 호출할 때 인수를 빠뜨리면 오류가 발생한다.

위와 같은 에러를 예방하고, 좀 더 유연성 있는 작업을 위해 ‘디폴트값(기본값)’을 지정해줘야 할 때도 있다. 이때 사용하는 인수를 ‘디폴트 인수(default argument)’라고 한다.

```python
def print_star(n = 1) : #매개변수 n은 기본값 1을 가진다
	for _ in range(n) :
		print('**********')

print_star() #인수가 없더라도 오류 발생 없이 수행된다!
print('\n', end='')
print_star(3) #디폴트값 대신 넘겨준 인수를 매개변수의 값으로 가진다!

#결과
**********

**********
**********
**********

```

매개변수의 초기값을 지정해주면 인수가 전달되지 않아도 오류없이 작동함을 확인할 수 있다.

### 함수의 인수 전달 방식

함수를 호출할 때 인수를 전달하는 방식에는 키워드 인수 방식과 위치 인수 방식이 있다!

**위치 인수 이용 방식** : 매개변수에 값을 전달할 때 적혀 있는 순서에 따라 전달

**키워드 인수 이용 방식** : 함수를 호출할 때 값과 함께 인수의 이름을 함께 명시하여 전달

파이썬의 함수는 기본적으로 위치 인수 방식을 사용한다.

```python
def numssubtract(a, b) :
	print(a - b)

numssubtract(3, 5) #매개변수가 각각 a, b이므로 인수 3, 5가 각각 a와 b로 전달된다
numssubtract(5, 3) #인수 5, 3이 각각 a와 b로 전달된다

#결과
-2
2
```

위치 인수 방식의 경우 인수를 잘못 전달하면 원하는 것과 완전히 다른 결과를 얻을 수 있다.

따라서 매개변수의 이름을 ‘키워드’로 하여 값을 전달하면 보다 이해하기 쉽고 안전한 프로그램을 짤 수 있다.

```python
def numssubtract(a, b) :
	print(a - b)

numssubtract(a=5, b=3)
numssubtract(b=3, a=5)

#결과
2
2
```

키워드 인수 이용 방식의 경우 순서를 어디에 두더라도 정확하게 명시만 해준다면 동일한 결과를 얻을 수 있다!

### 입력값이 몇 개인지 모를 때의 함수 작성

함수를 작성할 때 입력값이 항상 정해져 있다면 좋겠지만, 그렇지 않을 때도 많다.

그럴 땐 어떻게 작성해야 할까? 가능한 모든 입력값의 개수만큼 따로 함수를 작성해줘야 할까? 🤔

이 경우에는 함수가 ‘**가변 인수(arbitrary argument)**’를 사용한다고 하며, 함수 헤드에서 매개변수 앞에 **별표(\*)**를 넣어 사용해주면 된다.

```python
def sayhi(*names) :
	for a in names:
		print('안녕하세요', a, '님')

sayhi('전윤철', '김강민', '홍길동')

#결과
안녕하세요 전윤철 님
안녕하세요 김강민 님
안녕하세요 홍길동 님
```

여러 인수를 받는 함수를 구현할 경우 이 인수들은 함수에 전달되기 전 튜플 형태로 묶여서 전달된다. 위 경우에는 해당 인수들을 살펴보기 위해 for 문을 사용했다.

인수 자체를 출력해보면 튜플 형태로 나타나는 것을 볼 수 있다.

```python
def printargs(*args) :
	print('인수들 :', args)

printargs(10, 20, 30, 40, 50)

#결과
인수들 : (10, 20, 30, 40, 50)
```

### 함수 내부에서 선언된 변수의 효력 범위

지금까지 함수를 공부하며 ‘매개변수’가 사용되는 경우도 있고, 이 매개변수는 함수 내부에서 사용된다는 것도 알게 되었다!

만약 매개변수를 사용하지 않고 2개의 수를 합하는 함수를 만들면 어떻게 될까?

다음 예시를 살펴보자.

```python
def print_sum() :
	result = a + b
	print('함수 print_sum() 내부의 a와 b의 합은', result, '입니다.')

a = 10
b = 20
print_sum()
result = a + b
print('함수 print_sum() 외부의 a와 b의 합은', result, '입니다.')

#결과
함수 print_sum() 내부의 a와 b의 합은 30 입니다.
함수 print_sum() 외부의 a와 b의 합은 30 입니다.
```

위 프로그램은 매개변수를 사용하지 않고 함수 외부에서 변수 a, b를 선언하여 각각 10, 20을 할당한 뒤 함수 내부에서 더하도록 했다.

이때 함수 내부의 변수 a, b는 외부에서 선언된 변수 a, b를 가져왔는데,

이처럼 함수 바깥에서 선언되거나 전체 영역에서 사용 가능한 변수를 ‘**전역변수(global variable)**’라고 하며, 전역변수는 함수의 내외부 모두에서 접근 가능하다!

그렇다면 함수 안에서 사용되는 변수의 이름이 밖에서도 동일하게 사용되는 경우엔 어떻게 될까?

다음 예시를 살펴보자!

```python
a = 10
def numtest(a) :
	a = a + 1

numtest(a)
print(a)

#결과
10
```

a라는 변수를 함수 외부에서 선언한 뒤 10을 할당했다.

numtest 함수는 입력으로 들어온 값에 1을 더해주는 동작을 수행하고 결과값은 반환하지 않는다.

해당 함수의 입력값으로 a를 준 뒤 a의 값을 출력해보니, 결과는 기존에 할당된 10으로 변함없었다!

함수의 매개변수는 함수 내부에서만 사용되는 ‘**지역변수(local variable)**’이기 때문이다.

즉, def numtest(a)에서 입력값을 전달받는 매개변수 a와 함수 밖에서 정의된 변수 a는 **서로 다른 변수**인 것이다! 😯

```python
def numtest(a) :
	a = a + 1

numtest(10)
print(a)

#결과
NameError: name 'a' is not defined
```

numtest 함수 내부에서는 a가 11이 되지만, 함수 호출 뒤에 따라오는 print(a) 문장에서 오류가 발생하게 된다. 그 이유는 print(a)에서 사용한 변수 a는 선언되지 않았기 때문이다! 😯😯😯

**함수 안에서 선언한 매개변수는 함수 안에서만 사용하고, 함수 밖에서는 사용되지 않는다**는 것을 꼭 기억해두도록 하자~!!

그렇다면 함수 안에서 함수 밖의 변수를 변경하는 법은 없을까?

당연히 있다. 두 가지나✌️

-   **return문의 사용**

```python
a = 10
def numtest(a) :
	a = a + 1
	return a

a = numtest(a)
print(a)

#결과
11
```

numtest 함수가 입력으로 들어온 값에 1을 더한 뒤 해당 값을 반환하도록 코드를 변경해주었다.

따라서 a = numtest(a)라는 문장을 작성해주면 numtest 함수의 반환값이 a에 대입된다!

물론 여기서도 등호 왼쪽의 a(함수 외부의 변수)와 괄호 안의 a(함수 내부의 변수)는 다르다는 것에 주의하자.

-   **global 키워드의 사용**

```python
a = 10
def numtest() :
	global a
	a = a + 1

numtest()
print(a)

#결과
11
```

global a라는 문장은 함수 안에서 함수 밖의 전역변수 a를 직접 사용하겠다는 뜻이다.

이때 함수 내부의 a는 매개변수가 아닌 전역변수가 되어 함수 외부에서 정의된 변수 a의 값이 바뀌는 것을 볼 수 있다.

global 키워드는 함수 내부에서 반드시 ‘**전역변수의 식별자(이름)**’ 앞에 사용해야 하며,

global a = 100 과 같은 할당문에서는 사용할 수 없다.

단, global 키워드를 많이 사용하면(함수 내에서 전역변수를 많이 사용하면) 큰 분량의 코딩 시 문제를 일으킬 확률도 높아지고, 해당 문제가 어디서 발생했는지 파악하기도 어려워진다.

함수는 최대한 독립적으로(=외부 변수에 종속적이지 않게) 존재하는 것이 좋으므로 되도록이면 return문을 사용하는 방법을 권장한다!
